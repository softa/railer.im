#railer_profile.content_wrapper
  .container
    .wrapper
      .span-7
        .image_wrapper
          #{gravatar(@user.gravatar_id, 256)}
          %br
          .user_score
            .tweet_this{:style => 'float: right'}
              #{tweet_this('Level 10 railer.im #rails http://railer.im/username')}
            %strong Level 10 (1231 points)
            .clear
      .span-17.last
        .info_wrapper
          .header
            %h1#user_name
              #{@user.name}
              %span (#{@user.login})
            .detail.recommend
              %span.recommendations= @user.recommended_by.size
            %a.railerim_button{:href => '#'} Recommend
            .clear
          .clear
          .left_column
            - unless @user.company_name.empty?
              .company_name
                %strong.small_caps Company
                %h3 #{@user.company_name}
            - unless @user.blog.empty?
              %hr
              .blog
                %strong.small_caps Blog
                %h3 #{@user.blog}
            - unless @user.location.empty?
              %hr
              .location
                %strong.small_caps Location
                %h3 #{@user.location}
            -#
              %hr
              .bio
                %strong.small_caps Bio
          .right_column
            - unless @user.owned_gems.empty?
              .personal_gems
                %strong.small_caps Owner of the following Gems
                %hr
                %ul
                  - @user.owned_gems.each do |g|
                    %li
                      %a{:href => "#{rubygem_path(g.name)}"} #{g.name}
            - unless @user.recommends.empty?
              .recommended
                %strong.small_caps Recommended
                #{@user.recommends}
              %hr
            .owns_the_repos
              %strong.small_caps Repositories (#{@user.repositories.where('not fork').count})
              %br
              %br
              - for repo in @user.repositories.order('watchers desc').where('not fork')
                = image_tag repo.language_icon, :style => 'float:left;margin:1em', :title => repo.language
                %strong #{link_to repo.name, repo.url, :target => :_blank} &nbsp;
                = image_tag 'icons/foaf.png', :title => :watchers, :style => 'width:14px'
                #{repo.watchers}
                %br
                = repo.description

                %br
                %hr
                
= javascript_include_tag 'user_profile.js'
- require 'forgery'
%footer
  .container
    .span-11.append-1
      .followers
        %strong.small_caps Followers
        %ul
          - 20.times do
            %li
              = link_to user_path(@user) do
                #{gravatar(@user.gravatar_id,24)}
                #{Forgery::Internet.user_name}
    .span-11.prepend-1.last
      .used_rubygems
        %strong.small_caps Used rubygems
        %ul
          - 20.times do
            %li
              = link_to rubygems_path(Forgery::Name.company_name.downcase) do
                %samp #{Forgery::Name.company_name.downcase}
